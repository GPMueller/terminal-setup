# Zsh config for modern terminal
# Enable completion, history, and starship prompt
autoload -Uz compinit && compinit
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt inc_append_history
setopt share_history
setopt hist_ignore_dups
setopt hist_reduce_blanks
setopt auto_cd
setopt correct

# Show icons by default in ls
alias ls='eza --icons --long --no-permissions --no-user --header --git --time-style=long-iso --sort=type --sort=name --group-directories-first'

# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set theme
ZSH_THEME="robbyrussell"

# Plugins
plugins=(
    git
    z
    zsh-autosuggestions
    zsh-syntax-highlighting
)

# Load Oh My Zsh
source $ZSH/oh-my-zsh.sh

# User configuration
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# Preferred editor for local and remote sessions
export EDITOR='nvim'

# Aliases
alias zshconfig="nvim ~/.zshrc"
alias ohmyzsh="nvim ~/.oh-my-zsh"
alias lt="eza --tree --level=2 --icons"

# Starship prompt
if command -v starship >/dev/null; then
  eval "$(starship init zsh)"
fi

# fzf keybindings and completion
if [ -f ~/.fzf.zsh ]; then
  source ~/.fzf.zsh
fi

# zoxide init
if command -v zoxide >/dev/null; then
  eval "$(zoxide init zsh)"
fi
